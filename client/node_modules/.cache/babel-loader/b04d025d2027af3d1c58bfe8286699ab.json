{"ast":null,"code":"import _defineProperty from \"/home/oracletone/Desktop/ironHack/Module 3/Week 8/day1/blog-post/client/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/home/oracletone/Desktop/ironHack/Module 3/Week 8/day1/blog-post/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/oracletone/Desktop/ironHack/Module 3/Week 8/day1/blog-post/client/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/oracletone/Desktop/ironHack/Module 3/Week 8/day1/blog-post/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/oracletone/Desktop/ironHack/Module 3/Week 8/day1/blog-post/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/oracletone/Desktop/ironHack/Module 3/Week 8/day1/blog-post/client/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/home/oracletone/Desktop/ironHack/Module 3/Week 8/day1/blog-post/client/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/home/oracletone/Desktop/ironHack/Module 3/Week 8/day1/blog-post/client/src/components/Article.js\";\nimport React, { Component } from 'react';\nimport { articles } from './UserFunctions';\nimport { handleUpload } from './UserFunctions';\nimport axios from 'axios';\nimport '../components/css/Article.css';\nimport { faUpload } from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\n\nvar Article =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Article, _Component);\n\n  function Article() {\n    var _this;\n\n    _classCallCheck(this, Article);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Article).call(this));\n\n    _this.handleFileUpload = function (e) {\n      console.log(\"The file to be uploaded is: \", e.target.files[0]);\n      var uploadData = new FormData(); // imageUrl => this name has to be the same as in the model since we pass\n      // req.body to .create() method when creating a new thing in '/api/things/create' POST route\n\n      uploadData.append(\"imageUrl\", e.target.files[0]);\n      handleUpload(uploadData).then(function (response) {\n        // console.log('response is: ', response);\n        // after the console.log we can see that response carries 'secure_url' which we can use to update the state \n        _this.setState({\n          imageUrl: response.secure_url\n        });\n      }).catch(function (err) {\n        console.log(\"Error while uploading the file: \", err);\n      });\n    };\n\n    _this.state = {\n      users: [],\n      title: '',\n      author: '',\n      body: '',\n      imageUrl: '',\n      userId: '',\n      error: null\n    };\n    _this.onChange = _this.onChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.onSubmit = _this.onSubmit.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(Article, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      axios.get(\"/users/\", {\n        withCredentials: true\n      }).then(function (response) {\n        _this2.setState({\n          users: response.data,\n          userId: response.data[0]._id\n        });\n\n        debugger;\n        console.log(response.data);\n      }).catch(function (error) {\n        _this2.setState({\n          error: error\n        });\n      });\n    }\n  }, {\n    key: \"onChange\",\n    value: function onChange(e) {\n      this.setState(_defineProperty({}, e.target.name, e.target.value));\n    } // this method handles just the file upload\n\n  }, {\n    key: \"onSubmit\",\n    value: function onSubmit(e) {\n      var _this3 = this;\n\n      e.preventDefault();\n      var article = {\n        title: this.state.title,\n        author: this.state.author,\n        body: this.state.body,\n        imageUrl: this.state.imageUrl,\n        userId: this.state.userId\n      };\n      console.log(article);\n      articles(article).then(function (res) {\n        _this3.props.history.push('/articles');\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n\n      return (//   <div className=\"d-flex justify-content-center\">\n        //      <div className=\"d-flex justify-content-center\">\n        //           <div className=\"col-md-6 mt-5\">\n        //               <form noValidate onSubmit={this.onSubmit}>\n        //                   <h1 className=\"h3 mb-3 font-weight-normal\">Add Article:</h1>\n        //                   <div className=\"form-group\">\n        //                       <label htmlFor=\"title\">\n        //                           Title:\n        //                       </label>\n        //                       <input\n        //                           type=\"text\"\n        //                           className=\"form-control\"\n        //                           name=\"title\"\n        //                           placeholder=\"Title\"\n        //                           value={this.state.title}\n        //                           onChange={this.onChange}/>\n        //                   </div>\n        //                   <div className=\"form-group\">\n        //                       <label htmlFor=\"author\">\n        //                           Author:\n        //                       </label>\n        //                       <input\n        //                           type=\"text\"\n        //                           className=\"form-control\"\n        //                           name=\"author\"\n        //                           placeholder=\"Author\"\n        //                           value={this.state.author}\n        //                           onChange={this.onChange}/>\n        //                   </div>\n        //                   <div className=\"form-group\">\n        //                       <label htmlFor=\"body\">\n        //                           Description\n        //                       </label>\n        //                       <textarea\n        //                           type=\"text\"\n        //                           className=\"form-control\"\n        //                           name=\"body\"\n        //                           placeholder=\"Enter Post\"\n        //                           value={this.state.body}\n        //                           onChange={this.onChange}/>\n        //                   </div>\n        //     <div className=\"field\">\n        //         <div className=\"label\">Assign Article To:</div>\n        //             <div className=\"control\">\n        //                 <select className=\"select\" onChange={this.handleChange}>\n        //                     {this.state.users.map((user)=> \n        //                         <option value={user._id}>{user.first_name}</option>\n        //                     )}\n        //                 </select>\n        //             </div>\n        //     </div> \n        //                   <input type=\"file\" onChange={(e) => this.handleFileUpload(e)} /> \n        //                   <button type=\"submit\" className=\"btn btn-lg btn-primary btn-block\">\n        //                       Post\n        //                   </button>\n        //               </form>\n        //           </div>\n        //       </div>\n        //   </div>\n        React.createElement(\"div\", {\n          className: \"center\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 147\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"cardz\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 148\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"col-md-10\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 149\n          },\n          __self: this\n        }, React.createElement(\"form\", {\n          noValidate: true,\n          onSubmit: this.onSubmit,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 150\n          },\n          __self: this\n        }, React.createElement(\"h1\", {\n          className: \"h3 mb-3 font-weight-normal\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 151\n          },\n          __self: this\n        }, \"Add Article:\"), React.createElement(\"div\", {\n          className: \"form-group\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 152\n          },\n          __self: this\n        }, React.createElement(\"label\", {\n          htmlFor: \"title\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 153\n          },\n          __self: this\n        }, \"Title:\"), React.createElement(\"input\", {\n          type: \"text\",\n          className: \"form-item\",\n          name: \"title\",\n          placeholder: \"Title\",\n          value: this.state.title,\n          onChange: this.onChange,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 156\n          },\n          __self: this\n        })), React.createElement(\"div\", {\n          className: \"form-group\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 164\n          },\n          __self: this\n        }, React.createElement(\"label\", {\n          htmlFor: \"author\",\n          className: \"author\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 165\n          },\n          __self: this\n        }, \"Author:\"), React.createElement(\"div\", {\n          class: \"center-on-page\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 168\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"label\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 169\n          },\n          __self: this\n        }, \"Assign Article To:\"), React.createElement(\"div\", {\n          class: \"select\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 170\n          },\n          __self: this\n        }, React.createElement(\"select\", {\n          name: \"slct\",\n          id: \"slct\",\n          onChange: this.handleChange,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 171\n          },\n          __self: this\n        }, this.state.users.map(function (user) {\n          return React.createElement(\"option\", {\n            value: user._id,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 173\n            },\n            __self: this\n          }, user.first_name);\n        }))))), React.createElement(\"div\", {\n          className: \"form-group\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 186\n          },\n          __self: this\n        }, React.createElement(\"label\", {\n          htmlFor: \"body\",\n          className: \"desc\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 187\n          },\n          __self: this\n        }, \"Description:\"), React.createElement(\"textarea\", {\n          type: \"text\",\n          className: \"form-item\",\n          name: \"body\",\n          placeholder: \"Enter Post\",\n          value: this.state.body,\n          onChange: this.onChange,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 190\n          },\n          __self: this\n        })), React.createElement(\"label\", {\n          class: \"custom-file-upload\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 210\n          },\n          __self: this\n        }, React.createElement(FontAwesomeIcon, {\n          icon: faUpload,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 211\n          },\n          __self: this\n        }), React.createElement(\"input\", {\n          type: \"file\",\n          className: \"btn btn-warning addPic\",\n          onChange: function onChange(e) {\n            return _this4.handleFileUpload(e);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 212\n          },\n          __self: this\n        })), React.createElement(\"button\", {\n          type: \"submit\",\n          className: \"btn btn-lg btn-primary btn-block\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 218\n          },\n          __self: this\n        }, \"Post\")))))\n      );\n    }\n  }]);\n\n  return Article;\n}(Component);\n\nexport default Article;","map":{"version":3,"sources":["/home/oracletone/Desktop/ironHack/Module 3/Week 8/day1/blog-post/client/src/components/Article.js"],"names":["React","Component","articles","handleUpload","axios","faUpload","FontAwesomeIcon","Article","handleFileUpload","e","console","log","target","files","uploadData","FormData","append","then","response","setState","imageUrl","secure_url","catch","err","state","users","title","author","body","userId","error","onChange","bind","onSubmit","get","withCredentials","data","_id","name","value","preventDefault","article","res","props","history","push","handleChange","map","user","first_name"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport {articles} from './UserFunctions';\nimport {handleUpload} from './UserFunctions';\nimport axios from 'axios';\nimport '../components/css/Article.css';\nimport { faUpload } from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\n\n\nclass Article extends Component {\n  constructor() {\n      super()\n      this.state = {\n          users: [],\n          title: '',\n          author: '',\n          body: '',\n          imageUrl: '',\n          userId: '',\n          error: null\n      }\n      this.onChange = this.onChange.bind(this)\n      this.onSubmit = this.onSubmit.bind(this)\n  }\n\n  componentDidMount(){\n     axios.get(`/users/`, {withCredentials:true})\n    .then((response)=> {\n        this.setState({users: response.data, userId: response.data[0]._id})\n        debugger\n        console.log(response.data)\n    })\n    .catch((error)=> {\n        this.setState({error})\n    })\n}\n\n  onChange(e) {\n      this.setState({\n          [e.target.name]: e.target.value\n      })\n  }\n\n  // this method handles just the file upload\n  handleFileUpload = e => {\n    console.log(\"The file to be uploaded is: \", e.target.files[0]);\n\n    const uploadData = new FormData();\n    // imageUrl => this name has to be the same as in the model since we pass\n    // req.body to .create() method when creating a new thing in '/api/things/create' POST route\n    uploadData.append(\"imageUrl\", e.target.files[0]);\n    \n    handleUpload(uploadData)\n    .then(response => {\n        // console.log('response is: ', response);\n        // after the console.log we can see that response carries 'secure_url' which we can use to update the state \n        this.setState({ imageUrl: response.secure_url });\n      })\n      .catch(err => {\n        console.log(\"Error while uploading the file: \", err);\n      });\n}\n\n  onSubmit(e) {\n      e.preventDefault()\n\n      const article = {\n        title: this.state.title,\n        author: this.state.author,\n         body: this.state.body,\n         imageUrl: this.state.imageUrl,\n         userId: this.state.userId\n      \n      }\n      console.log(article);\n\n      articles(article).then(res => {\n           this.props.history.push('/articles')\n      })\n  }\n\n  render() {\n      return (\n        //   <div className=\"d-flex justify-content-center\">\n        //      <div className=\"d-flex justify-content-center\">\n        //           <div className=\"col-md-6 mt-5\">\n        //               <form noValidate onSubmit={this.onSubmit}>\n        //                   <h1 className=\"h3 mb-3 font-weight-normal\">Add Article:</h1>\n        //                   <div className=\"form-group\">\n        //                       <label htmlFor=\"title\">\n        //                           Title:\n        //                       </label>\n        //                       <input\n        //                           type=\"text\"\n        //                           className=\"form-control\"\n        //                           name=\"title\"\n        //                           placeholder=\"Title\"\n        //                           value={this.state.title}\n        //                           onChange={this.onChange}/>\n        //                   </div>\n        //                   <div className=\"form-group\">\n        //                       <label htmlFor=\"author\">\n        //                           Author:\n        //                       </label>\n        //                       <input\n        //                           type=\"text\"\n        //                           className=\"form-control\"\n        //                           name=\"author\"\n        //                           placeholder=\"Author\"\n        //                           value={this.state.author}\n        //                           onChange={this.onChange}/>\n        //                   </div>\n        //                   <div className=\"form-group\">\n        //                       <label htmlFor=\"body\">\n        //                           Description\n        //                       </label>\n        //                       <textarea\n        //                           type=\"text\"\n        //                           className=\"form-control\"\n        //                           name=\"body\"\n        //                           placeholder=\"Enter Post\"\n        //                           value={this.state.body}\n        //                           onChange={this.onChange}/>\n        //                   </div>\n\n        //     <div className=\"field\">\n        //         <div className=\"label\">Assign Article To:</div>\n        //             <div className=\"control\">\n        //                 <select className=\"select\" onChange={this.handleChange}>\n        //                     {this.state.users.map((user)=> \n        //                         <option value={user._id}>{user.first_name}</option>\n        //                     )}\n        //                 </select>\n        //             </div>\n        //     </div> \n\n        //                   <input type=\"file\" onChange={(e) => this.handleFileUpload(e)} /> \n\n        //                   <button type=\"submit\" className=\"btn btn-lg btn-primary btn-block\">\n        //                       Post\n        //                   </button>\n        //               </form>\n        //           </div>\n        //       </div>\n        //   </div>\n\n        <div className=\"center\">\n        <div className=\"cardz\">\n            <div className=\"col-md-10\">\n            <form noValidate onSubmit={this.onSubmit}>\n                       <h1 className=\"h3 mb-3 font-weight-normal\">Add Article:</h1>\n                          <div className=\"form-group\">\n                               <label htmlFor=\"title\">\n                                   Title:\n                          </label>\n                               <input\n                                   type=\"text\"\n                                   className=\"form-item\"\n                               name=\"title\"\n                              placeholder=\"Title\"\n                               value={this.state.title}\n                                   onChange={this.onChange}/>\n                           </div>\n                           <div className=\"form-group\">\n                               <label htmlFor=\"author\" className=\"author\">\n                                   Author:\n                              </label>\n                              <div class=\"center-on-page\">\n               <div className=\"label\">Assign Article To:</div>\n                 <div class=\"select\">\n                 <select name=\"slct\" id=\"slct\" onChange={this.handleChange}>\n                         {this.state.users.map((user)=> \n                                 <option value={user._id}>{user.first_name}</option>\n                             )}\n                </select>\n             </div>\n           </div>\n                              {/* <input\n                                   type=\"text\"\n                                   className=\"form-item\"\n                                  name=\"author\"\n                                   placeholder=\"Author\"\n                                   value={this.state.author}\n                                  onChange={this.onChange}/> */}\n                      </div>\n                      <div className=\"form-group\">\n                               <label htmlFor=\"body\" className=\"desc\">\n                                   Description:\n                               </label>\n                               <textarea\n                              type=\"text\"\n                                   className=\"form-item\"\n                                  name=\"body\"\n                                   placeholder=\"Enter Post\"\n                                   value={this.state.body}\n                               onChange={this.onChange}/>\n                           </div>\n\n             {/* <div className=\"field\">\n                <div className=\"label\">Assign Article To:</div>\n                 <div className=\"control\">\n                        <select className=\"select\" onChange={this.handleChange}>\n                            {this.state.users.map((user)=> \n                                 <option value={user._id}>{user.first_name}</option>\n                             )}\n                        </select>\n                     </div>\n             </div>  */}\n\n             <label class=\"custom-file-upload\">\n             <FontAwesomeIcon icon={faUpload} />\n             <input type=\"file\" className=\"btn btn-warning addPic\" onChange={(e) => this.handleFileUpload(e)} /> \n                  </label>\n       \n                     \n                         \n\n                           <button type=\"submit\" className=\"btn btn-lg btn-primary btn-block\">\n                              Post\n                           </button>\n                      </form> \n            </div>\n        </div>\n    </div>\n      )\n  }\n}\n\nexport default Article;"]},"metadata":{},"sourceType":"module"}
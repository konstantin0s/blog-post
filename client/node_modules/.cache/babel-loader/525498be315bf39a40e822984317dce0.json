{"ast":null,"code":"import _objectSpread from \"/home/oracletone/Desktop/ironHack/Module 3/Week 8/day1/blog-post/client/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"/home/oracletone/Desktop/ironHack/Module 3/Week 8/day1/blog-post/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/oracletone/Desktop/ironHack/Module 3/Week 8/day1/blog-post/client/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/oracletone/Desktop/ironHack/Module 3/Week 8/day1/blog-post/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/oracletone/Desktop/ironHack/Module 3/Week 8/day1/blog-post/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/oracletone/Desktop/ironHack/Module 3/Week 8/day1/blog-post/client/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/oracletone/Desktop/ironHack/Module 3/Week 8/day1/blog-post/client/src/components/Navbar.js\";\nimport React, { Component } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\nimport store from 'store';\n\nvar Navbar =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Navbar, _Component);\n\n  function Navbar(props) {\n    var _this;\n\n    _classCallCheck(this, Navbar);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Navbar).call(this, props));\n    _this.state = {\n      loggedInUser: null\n    };\n    return _this;\n  }\n\n  _createClass(Navbar, [{\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(nextProps) {\n      this.setState(_objectSpread({}, this.state, {\n        loggedInUser: nextProps[\"userInSession\"]\n      }));\n    } //     constructor() {\n    //     super()\n    //     this.state = {\n    //       first_name: '',\n    //       last_name: '',\n    //         email: ''\n    // }\n    //   }\n    //   componentDidMount () {\n    //     const token = localStorage.usertoken\n    //     const decoded = jwt_decode(token)\n    //     this.setState({\n    //       first_name: decoded.first_name,\n    //       last_name: decoded.last_name,\n    //       email: decoded.email\n    //     })\n    //   }\n\n  }, {\n    key: \"logOut\",\n    value: function logOut(e) {\n      e.preventDefault();\n      axios.post('/logout');\n      localStorage.removeItem('usertoken');\n      store.remove('loggedIn');\n      console.log('you have been logged out. boo!');\n      this.props.history.push('/');\n      store.set('loggedIn', false);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var loginRegLink = React.createElement(\"ul\", {\n        className: \"navbar-nav\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      }, React.createElement(\"li\", {\n        className: \"nav-item\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: \"/login\",\n        className: \"nav-link\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54\n        },\n        __self: this\n      }, \"Login\")), React.createElement(\"li\", {\n        className: \"nav-item\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: \"/register\",\n        className: \"nav-link\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }, \"Register\")));\n\n      if (this.state.loggedInUser) {\n        var _userLink = React.createElement(\"ul\", {\n          className: \"navbar-nav\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 68\n          },\n          __self: this\n        }, React.createElement(\"li\", {\n          className: \"nav-item\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 69\n          },\n          __self: this\n        }, React.createElement(Link, {\n          to: \"/profile\",\n          className: \"nav-link user\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 70\n          },\n          __self: this\n        }, \"Profile\")), React.createElement(\"li\", {\n          className: \"nav-item\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 74\n          },\n          __self: this\n        }, React.createElement(Link, {\n          to: \"/article\",\n          className: \"nav-link\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 75\n          },\n          __self: this\n        }, \"Blog\")), React.createElement(\"li\", {\n          className: \"nav-item\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 79\n          },\n          __self: this\n        }, React.createElement(Link, {\n          to: \"/articles\",\n          className: \"nav-link\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 80\n          },\n          __self: this\n        }, \"Show Blogs\")), React.createElement(\"li\", {\n          className: \"nav-item\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 84\n          },\n          __self: this\n        }, React.createElement(\"a\", {\n          href: true,\n          onClick: this.logOut.bind(this),\n          className: \"nav-link\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 85\n          },\n          __self: this\n        }, \"Logout\")));\n      } else {}\n\n      return React.createElement(\"nav\", {\n        className: \"navbar navbar-expand-lg navbar-dark bg-dark rounded\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        className: \"navbar-toggler\",\n        type: \"button\",\n        \"data-toggle\": \"collapse\",\n        \"data-target\": \"#navbar1\",\n        \"aria-controls\": \"navbar1\",\n        \"aria-expanded\": \"false\",\n        \"aria-label\": \"Toggle navigation\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"navbar-toggler-icon\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"collapse navbar-collapse justify-content-md-center\",\n        id: \"navbar1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }, React.createElement(\"ul\", {\n        className: \"navbar-nav\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }, React.createElement(\"li\", {\n        className: \"nav-item\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: \"/\",\n        className: \"nav-link\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }, \"You\\u2665Dev\"))), localStorage.usertoken ? userLink : loginRegLink));\n    }\n  }]);\n\n  return Navbar;\n}(Component);\n\nexport default withRouter(Navbar);","map":{"version":3,"sources":["/home/oracletone/Desktop/ironHack/Module 3/Week 8/day1/blog-post/client/src/components/Navbar.js"],"names":["React","Component","withRouter","Link","axios","store","Navbar","props","state","loggedInUser","nextProps","setState","e","preventDefault","post","localStorage","removeItem","remove","console","log","history","push","set","loginRegLink","userLink","logOut","bind","usertoken"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport { withRouter} from 'react-router-dom';\nimport {Link} from 'react-router-dom';\nimport axios from 'axios';\nimport store from 'store';\n\n\nclass Navbar extends Component {\n  constructor(props){\n    super(props);\n    this.state = { loggedInUser: null };\n  }\n\n  componentWillReceiveProps(nextProps) {\n    this.setState({...this.state, loggedInUser: nextProps[\"userInSession\"]})\n  }\n\n    \n//     constructor() {\n//     super()\n//     this.state = {\n//       first_name: '',\n//       last_name: '',\n//         email: ''\n// }\n//   }\n\n//   componentDidMount () {\n//     const token = localStorage.usertoken\n//     const decoded = jwt_decode(token)\n//     this.setState({\n//       first_name: decoded.first_name,\n//       last_name: decoded.last_name,\n//       email: decoded.email\n//     })\n  \n //   }\n\n\n     logOut(e) {\n       e.preventDefault();\n       axios.post('/logout');\n       localStorage.removeItem('usertoken');\n       store.remove('loggedIn');\n       console.log('you have been logged out. boo!');\n       this.props.history.push('/')\n       store.set('loggedIn', false);\n     }\n\n     render() {\n       const loginRegLink = (\n        <ul className=\"navbar-nav\">\n           <li className=\"nav-item\">\n             <Link to=\"/login\" className=\"nav-link\">\n               Login\n             </Link>\n             </li>\n             <li className=\"nav-item\">\n             <Link to=\"/register\" className=\"nav-link\">\n               Register\n             </Link>\n           </li>\n         </ul>\n       )\n       if(this.state.loggedInUser){ \n   \n       const userLink = (\n        <ul className=\"navbar-nav\">\n          <li className=\"nav-item\">\n            <Link to=\"/profile\" className=\"nav-link user\">\n              {/* Welcome {this.state.first_name} */}Profile\n            </Link>\n            </li>\n            <li className=\"nav-item\">\n            <Link to=\"/article\" className=\"nav-link\">\n              Blog\n            </Link>\n            </li>\n            <li className=\"nav-item\">\n            <Link to=\"/articles\" className=\"nav-link\">\n              Show Blogs\n            </Link>\n            </li>\n            <li className=\"nav-item\">\n         <a href onClick={this.logOut.bind(this)} className=\"nav-link\">\n          Logout\n          </a> \n        \n          </li>\n        </ul>\n       )\n      } else {\n        \n      }\n       return (\n         <nav className=\"navbar navbar-expand-lg navbar-dark bg-dark rounded\">\n            <button className=\"navbar-toggler\" type=\"button\" \n            data-toggle=\"collapse\" data-target=\"#navbar1\"\n            aria-controls=\"navbar1\" aria-expanded=\"false\"\n            aria-label=\"Toggle navigation\">\n              <span className=\"navbar-toggler-icon\"></span>\n            </button>\n\n            <div className=\"collapse navbar-collapse justify-content-md-center\" id=\"navbar1\">\n            <ul className=\"navbar-nav\">\n               <li className=\"nav-item\">\n                <Link to=\"/\" className=\"nav-link\">\n                 You&#9829;Dev\n               </Link>\n               </li>\n         </ul>\n\n         {localStorage.usertoken ? userLink : loginRegLink}\n            </div>\n\n         </nav>\n       )\n     }\n}\n\n\nexport default withRouter(Navbar);"]},"metadata":{},"sourceType":"module"}